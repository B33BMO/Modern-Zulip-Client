@import "tailwindcss";

/* ================== Tokens ================== */
/* Dark (default) */
:root {
  --bg: 18 18 22;
  --glass: 28 28 34;    /* surfaces */
  --glass-2: 36 36 44;

  --text: 232 232 236;  /* primary text */
  --muted: 160 160 172;

  --accent: 88 208 199;
  --danger: 239 83 80;
  --ok: 76 175 80;
  --warn: 255 167 38;

  --ring: 255 255 255;  /* border/ring base */
  --ring-alpha: 0.08;

  --shadow: 0 10px 30px rgba(0,0,0,.45);
}

/* Light overrides */
:root[data-theme="light"] {
  --bg: 246 246 248;
  --glass: 255 255 255;
  --glass-2: 243 244 248;

  --text: 24 24 28;
  --muted: 108 112 124;

  --accent: 0 150 136;
  --danger: 211 47 47;
  --ok: 56 142 60;
  --warn: 255 143 0;

  --ring: 0 0 0;
  --ring-alpha: 0.12;

  --shadow: 0 10px 30px rgba(0,0,0,.12);
}

/* ================== Layout/base ================== */
html, body, :root { height: 100%; }

body {
  overflow: hidden; /* panes scroll instead */
  color: rgb(var(--text));
  background:
    radial-gradient(1200px 700px at 10% -10%, rgb(var(--accent) / 0.09), transparent 60%),
    radial-gradient(900px 600px at 90% 110%, rgb(var(--accent) / 0.06), transparent 60%),
    /* subtle top shade (helps in light mode too) */
    linear-gradient(180deg, rgb(0 0 0 / 0.06), transparent),
    rgb(var(--bg));
}

/* ================== Glass surfaces ================== */
.glass {
  /* balanced glass for both themes */
  background: rgb(255 255 255 / 0.06);
  border: 1px solid rgb(255 255 255 / 0.08);
  backdrop-filter: blur(12px) saturate(130%);
  -webkit-backdrop-filter: blur(12px) saturate(130%);
  border-radius: 1.5rem; /* rounded-3xl */
  box-shadow: var(--shadow);
}
:root[data-theme="light"] .glass {
  background: rgb(0 0 0 / 0.04);
  border-color: rgb(0 0 0 / 0.10);
}

/* Stronger glass (menus / popovers) */
.glass-strong{
  background: rgb(255 255 255 / 0.08);
  border: 1px solid rgb(255 255 255 / 0.12);
  backdrop-filter: blur(18px) saturate(150%);
  -webkit-backdrop-filter: blur(18px) saturate(150%);
  border-radius: 1rem;
  box-shadow: var(--shadow);
}
:root[data-theme="light"] .glass-strong{
  background: rgb(0 0 0 / 0.06);
  border-color: rgb(0 0 0 / 0.12);
}

/* ================== Buttons / icons ================== */
.icon-btn {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  height: 2rem; width: 2rem;
  border-radius: 0.75rem;
  border: 1px solid rgb(255 255 255 / 0.10);
  background: rgb(255 255 255 / 0.05);
  transition: background .15s ease, border-color .15s ease;
}
.icon-btn:hover { background: rgb(255 255 255 / 0.10); }
:root[data-theme="light"] .icon-btn {
  border-color: rgb(0 0 0 / 0.12);
  background: rgb(0 0 0 / 0.04);
}
:root[data-theme="light"] .icon-btn:hover {
  background: rgb(0 0 0 / 0.08);
}

/* ================== Scrollers / content ================== */
.messages-scroller {
  overscroll-behavior-y: contain;     /* prevent bubbling to page */
  scrollbar-gutter: stable both-edges;/* avoids width jumps when scrollbars appear */
}

/* Prevent huge email-inline images from blowing up cards */
.msg-content img {
  max-width: 100%;
  height: auto;
  display: inline-block;
  border-radius: 8px;
}
.msg-content a { text-decoration: underline; }

/* ================== Light-mode shim for Tailwind "white/*" utilities ================== */
/* Lets you keep existing classes like text-white/80, bg-white/10, ring-white/10, etc. */
:root[data-theme="light"] {
  --on: 24 24 28; /* readable text color on light surfaces */
}

/* Text remap */
:root[data-theme="light"] .text-white        { color: rgb(var(--on)) !important; }
:root[data-theme="light"] .text-white\/95    { color: rgb(var(--on) / .95) !important; }
:root[data-theme="light"] .text-white\/90    { color: rgb(var(--on) / .90) !important; }
:root[data-theme="light"] .text-white\/85    { color: rgb(var(--on) / .85) !important; }
:root[data-theme="light"] .text-white\/80    { color: rgb(var(--on) / .80) !important; }
:root[data-theme="light"] .text-white\/70    { color: rgb(var(--on) / .70) !important; }
:root[data-theme="light"] .text-white\/60    { color: rgb(var(--on) / .60) !important; }

/* Background remap */
:root[data-theme="light"] .bg-white\/5       { background-color: rgb(0 0 0 / .03) !important; }
:root[data-theme="light"] .bg-white\/10      { background-color: rgb(0 0 0 / .06) !important; }
:root[data-theme="light"] .bg-white\/15      { background-color: rgb(0 0 0 / .08) !important; }
:root[data-theme="light"] .hover\:bg-white\/10:hover { background-color: rgb(0 0 0 / .08) !important; }

/* Borders / rings remap */
:root[data-theme="light"] .border-white\/10  { border-color: rgb(0 0 0 / .12) !important; }
:root[data-theme="light"] .ring-white\/10    { --tw-ring-color: rgb(0 0 0 / .12) !important; }

/* Placeholders & subtle text */
:root[data-theme="light"] ::placeholder { color: rgb(var(--on) / .45) !important; }
